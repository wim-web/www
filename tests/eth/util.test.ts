import { prettyData } from "@/eth/util";
import { expect, it } from "vitest";


it('prettydata', () => {
    // https://sepolia.etherscan.io/tx/0x960d469766ff589dc89a16e3e0156b6021f0abdf57cc5454217a43b31bfaeccf
    // bridgeETHTo
    const raw = "0xe11013dd000000000000000000000000fa912d704abdabb7b9b280f7ca91b1d5a66997d80000000000000000000000000000000000000000000000000000000000030d4000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000005312e302e30000000000000000000000000000000000000000000000000000000"

    const pretty = prettyData(raw)

    expect(pretty.method).toBe('0xe11013dd')
    expect(pretty.parameters.length).toBe(5)
    expect(pretty.parameters[0]).toBe('000000000000000000000000fa912d704abdabb7b9b280f7ca91b1d5a66997d8')
    expect(pretty.parameters[1]).toBe('0000000000000000000000000000000000000000000000000000000000030d40')
    expect(pretty.parameters[2]).toBe('0000000000000000000000000000000000000000000000000000000000000060')
    expect(pretty.parameters[3]).toBe('0000000000000000000000000000000000000000000000000000000000000005')
    expect(pretty.parameters[4]).toBe('312e302e30000000000000000000000000000000000000000000000000000000')
})
